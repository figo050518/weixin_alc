<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%> 
<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>购物车</title>
		<link rel="stylesheet" type="text/css" href="/resources/style/shoppingcart.css" />
		<script src="/resources/script/jquery-1.11.1.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<table class="titleTable" width="100%" height="50px" cellspacing="0" cellpadding="0">
			<tr>
				<td style="width: 60%;text-align: center;"class="td">购物车</td>
				<td style="width: 20%;text-align: left;" class="td"></td>
			</tr>
		</table>
		<div class="shangjiali">
			<div class="shangjia">
				<div class="shangjiaName">
					<div class="shangjiaNameLeft">
						<label for=""><input type="checkbox"  name="" id="" class="check checkoneall"  value="" /></label>
					</div>
					<div class="shangjiaNameRight">
						<span id="">西瓜家</span>
					</div>

				</div>
				<div class="shangjiaPdt">
					<div class="shangjiaPdtItem">
						<div class="itemLeft">
							<label for=""><input type="checkbox"  name="" id="" class="check checkone" value="" /></label>
						</div>
						<div class="itemimg">
							<img src="/resources/images/0052_foodsense.jpg" />
						</div>

						<div class="pdtInfo">
							<span class="pdtName">奥利弗 橄榄油 30ml</span>
							<span class="pdtguige"> 30ml</span>
							<span class="pdtPrice">￥<span style="display: inline;">99.00</span></span>
							<div class="countDiv">
								<div class="min" onclick="minClick(this)">-</div>
								<div class="count" style="height: 20px;">
									<input class="text_box" name="goodsCount" type="text" value="1" readonly="readonly" />
								</div>
								<div class="add" onclick="addClick(this)">+</div>
							</div>
							<div class="clear"></div>
						</div>
					</div>
					<div class="shangjiaPdtItem">
						<div class="itemLeft">
							<label for=""><input type="checkbox"  name="" id="" class="check checkone" value="" /></label>

						</div>
						<div class="itemimg">
							<img src="/resources/images/0140_foodsense.jpg" />
						</div>

						<div class="pdtInfo">
							<span class="pdtName">奥利弗 橄榄油 30ml</span>
							<span class="pdtguige"> 30ml</span>
							<span class="pdtPrice">￥<span style="display: inline;">99.00</span></span>
							<div class="countDiv">
								<div class="min" onclick="minClick(this)">-</div>
								<div class="count" style="height: 20px;">
									<input class="text_box" name="goodsCount" type="text" value="1" readonly="readonly" />
								</div>
								<div class="add" onclick="addClick(this)">+</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="shangjia">
				<div class="shangjiaName">
					<div class="shangjiaNameLeft">
						<label for=""><input type="checkbox" name="" id="" class="check checkoneall" value="" /></label>
					</div>
					<div class="shangjiaNameRight">
						<span id="">西瓜家</span>
					</div>
				</div>
				<div class="shangjiaPdt">
					<div class="shangjiaPdtItem">
						<div class="itemLeft">
							<label for=""><input type="checkbox"  name="" id="" class="check checkone" value="" /></label>
						</div>
						<div class="itemimg">
							<img src="/resources/images/0052_foodsense.jpg" />
						</div>

						<div class="pdtInfo">
							<span class="pdtName">奥利弗 橄榄油 30ml</span>
							<span class="pdtguige"> 30ml</span>
							<span class="pdtPrice">￥<span style="display: inline;">99.00</span></span>
							<div class="countDiv">
								<div class="min" onclick="minClick(this)">-</div>
								<div class="count" style="height: 20px;">
									<input class="text_box" name="goodsCount" type="text" value="1"  readonly="readonly" />
								</div>
								<div class="add" onclick="addClick(this)">+</div>
							</div>
						</div>
					</div>
					<div class="shangjiaPdtItem">
						<div class="itemLeft">
							<label for=""><input type="checkbox"  name="" id="" class="check checkone" value="" /></label>
						</div>
						<div class="itemimg">
							<img src="/resources/images/0140_foodsense.jpg" />
						</div>

						<div class="pdtInfo">
							<span class="pdtName">奥利弗 橄榄油 30ml</span>
							<span class="pdtguige"> 30ml</span>
							<span class="pdtPrice">￥<span style="display: inline;">99.00</span></span>
							<div class="countDiv">
								<div class="min" onclick="minClick(this)">-</div>
								<div class="count" style="height: 20px;">
									<input class="text_box" name="goodsCount" type="text" value="1" readonly="readonly" />
								</div>
								<div class="add" onclick="addClick(this)">+</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>

		</div>

		<div class="footerFixed">
			<div class="footerFixedLeft">
				<label for=""><input type="checkbox"  class="check checkall" name="" id="" class="check" value="" /></label>

			</div>
			<div class="text">全选</div>
			<div class="delete">
								删除
							</div>
			<button class="jiesuanBtn">结算</button>
			<div class="jine">
				<div class="">合计：<span style="color:#FF9900" class="totalPrice">0.00</span>
				</div>
				<div id="">不含运费</div>
			</div>
			<div class="">

			</div>
		</div>
		<script src="/resources/script/product/shoppingcart.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(".checkall").click(function() {
				if($(this).is(":checked")) {
					$(".checkone").prop('checked', true);
					$(".checkoneall").prop('checked', true);
				} else {
					$('.checkone').attr('checked', false);
					$('.checkoneall').attr('checked', false);
					

				}
				TotalPrice();
			});
			$(".checkoneall").click(function() {
				if($(this).is(":checked")) {
					$(this).parents(".shangjia").find(".checkone").prop('checked', true);
				} else {
				    $(this).parents(".shangjia").find(".checkone").prop('checked', false);
				}
				TotalPrice();
			});
			$(".checkone").click(function() {
				var goodsN = $(this).parents(".shangjia").find(".checkone");

				var goodsC = $(this).parents(".shangjia").find(".checkone:checked");
				if(goodsN.length == goodsC.length) {
					$(this).parents(".shangjia").find(".checkoneall").prop('checked', true);
				} else {
					$(this).parents(".shangjia").find(".checkoneall").prop('checked', false);
				}
				TotalPrice();
			})
			
		</script>
	</body>

</html>